<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0" />
	<meta name="description" content="Create configurations for Dreg driving engine vehicles." />
	<title>Vehicle config editor</title>
	
	<link rel="icon" type="image/x-icon" href="img/favicon.png" />
	<link rel="stylesheet" type="text/css" href="dregStyle.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<script type="module" src="js/main.js"></script>
</head>
<body>
	<main>
		<img id="logo" src="img/logoEditor.png" alt="Editor logo" />
		<div id="load-log-file">
			<div>
				<span>Loaded input file</span>
				<span id="loaded-log-filename">-</span>
			</div>
			
			<button id="vehicleInputLog-bt">Load vehicle input log</button>
			<input id="vehicleInputLog-input" type="file" accept=".csv" />
		</div>
		
		<div id="editor-config">
			<h1>Editor settings</h1>
			<div class="input-block">
				<label for="simInterval">Simulation interval (s)</label>
				<input id="simInterval" class="long-input" type="number" />
			</div>
			
			<div class="input-block">
				<label for="simSamples">Simulation samples</label>
				<input id="simSamples" type="number" />
			</div>
			
			<div class="input-block">
				<label for="graphSamples">Graph samples per segment</label>
				<input type="range" min="1" max="80" aria-label="graph samples slider" />
				<input id="graphSamples" type="number" />
				
			</div>
		</div>
		
		<div id="vehicle-config">
			<h1>Vehicle configuration</h1>
			<div>
				<textarea id="config-textarea" aria-label="serialized config"></textarea>
				<button id="export-config-bt">Export</button>
				<button id="import-config-bt">Import</button>
			</div>
			
			<div class="input-block">
				<label for="maxSteeringAngle">Max steering angle (ยบ)</label>
				<input type="range" min="0" max="180" step="0.1" aria-label="max steering angle slider" />
				<input id="maxSteeringAngle" type="number" />
			</div>
			
			<div class="input-block">
				<label for="mass">Vehicle mass (Kg)</label>
				<input id="mass" type="number" />
			</div>
			
			<div class="input-block">
				<label id="frontShaft-label">Front shaft (vector x-y-z)</label>
				<input id="frontShaft-x" type="number" aria-labelledby="frontShaft-label" />
				<input id="frontShaft-y" type="number" aria-labelledby="frontShaft-label" />
				<input id="frontShaft-z" type="number" aria-labelledby="frontShaft-label" />
			</div>
			
			<div class="input-block">
				<label id="rearShaft-label">Rear shaft (vector x-y-z)</label>
				<input id="rearShaft-x" type="number" aria-labelledby="rearShaft-label" />
				<input id="rearShaft-y" type="number" aria-labelledby="rearShaft-label" />
				<input id="rearShaft-z" type="number" aria-labelledby="rearShaft-label" />
			</div>
			
			<h2>Power</h2>
				<div class="input-block">
					<label for="torqueToRpmAccel">Torque to rpm accel</label>
					<input id="torqueToRpmAccel" type="number" />
				</div>
				<div class="input-block">
					<label for="driveRatio">Drive ratio</label>
					<input id="driveRatio" type="number" />
				</div>
				
				<details open>
					<summary>Gear ratios</summary>
					<button id="add-gear-bt">Add gear</button>
					<button id="delete-gear-bt">Delete gear</button>
					<div id="gear-ratios"></div>
				</details>
				
				<details>
					<summary>Throttle curve</summary>
					<div id="throttleCurve"></div>
				</details>
				
				<details open>
					<summary>Engine curve</summary>
					<div id="engineCurve"></div>
				</details>
				
				<details>
					<summary>Loose engine curve</summary>
					<div id="looseEngineRpmCurve"></div>
				</details>
				
				<details>
					<summary>Engine brake curve</summary>
					<div id="engineBrakeCurve"></div>
				</details>
				
				<details>
					<summary>Clutch curve</summary>
					<div id="clutchCurve"></div>
				</details>
			
			<h2>Brakes</h2>
				<div class="input-block">
					<label for="brakeDiameter">Brake diameter</label>
					<input id="brakeDiameter" type="number" />
				</div>
				
				<div class="input-block">
					<label for="brakeStaticFrictionCoef">Brake static friction coefficient</label>
					<input id="brakeStaticFrictionCoef" type="number" />
				</div>
				
				<div class="input-block">
					<label for="brakeKineticFrictionCoef">Brake kinetic friction coefficient</label>
					<input id="brakeKineticFrictionCoef" type="number" />
				</div>
				
				<details>
					<summary>Brake curve</summary>
					<div id="brakeCurve"></div>
				</details>
			
			<h2>Wheels</h2>
				<div class="input-block">
					<label for="wheelDiameter">Diameter (m)</label>
					<input id="wheelDiameter" type="number" />
				</div>
		</div>
	</main>
	<div id="splitter"><div></div></div>
	
	<aside id="simulation">
		<div>
			<h1>Simulation</h1>
			<button id="add-graph-bt">Add graph</button>
		</div>
		<div id="simulation-graphs"></div>
	</aside>
</body>
</html>